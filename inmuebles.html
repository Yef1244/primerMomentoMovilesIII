<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Primer Momento Moviles</title>
</head>
<body>
    <div class="container">

        <h1>INMUEBLES SAS</h1>
        <form id="formulario">
            <label for="idmueble">ID</label>
            <input type="number" id="idmueble" name="idmueble">
            <span id="mensid" style="color: #ab0000;"></span>
            <br>
            <label for="direccion">Dirección</label>
            <input type="text" id="direccion" name="direccion">
            <span id="mensdireccion" style="color: #ab0000;"></span> <br>
            <label for="telefono">telefono</label>
            <input type="number" id="telefono" name="telefono">
            <br>
            <label for="precio">Precio</label>
            <input type="number" id="precio" name="precio">
            <span id="mensprecio" style="color: #ab0000;"></span> <br>
            <label for="estado">estado</label>
            <input type="text" id="estado" name="estado">
            <br>
            <button class="btn btn-secondary" id="btnenviar" type="button">Enviar</button>
            <button class="btn btn-secondary" id="btnbuscar" type="button">Buscar Inmueble</button>
            <button class="btn btn-secondary" id="btnlistar" type="button">Listar Inmuebles</button>

        </form>
    </div>
    
    <script>

        inmuebles = [
            {idmueble: 01, direccion: "calle 1", telefono: 1, precio: 1111, estado: "Disponible"},
            {idmueble: 02, direccion: "calle 2", telefono: 2, precio: 2222, estado: "Disponible"},
            {idmueble: 03, direccion: "calle 3", telefono: 3, precio: 3333, estado: "No Disponible"},
            {idmueble: 04, direccion: "calle 4", telefono: 4, precio: 4444, estado: "No Disponible"},
            {idmueble: 05, direccion: "calle 5", telefono: 5, precio: 5555, estado: "No Disponible"},
            {idmueble: 06, direccion: "calle 6", telefono: 6, precio: 6666, estado: "Disponible"},
            {idmueble: 07, direccion: "calle 7", telefono: 7, precio: 7777, estado: "No Disponible"},
            {idmueble: 08, direccion: "calle 8", telefono: 8, precio: 8888, estado: "Disponible"},
            {idmueble: 09, direccion: "calle 9", telefono: 9, precio: 9999, estado: "Disponible"},
            {idmueble: 10, direccion: "calle 10", telefono: 10, precio: 1000, estado: "Disponible"},


        ]

        console.log(inmuebles)

        let idmueble = document.getElementById("idmueble")
        let direccion = document.getElementById("direccion")
        let telefono = document.getElementById("telefono")
        let precio = document.getElementById("precio")
        let estado = document.getElementById("estado")
        //MENSAJE 
        const mensid = document.getElementById("mensid")
        const mensdireccion = document.getElementById("mensdireccion")
        const mensprecio = document.getElementById("mensprecio")
        //BOTONES
        let btnenviar = document.getElementById("btnenviar")
        let btnbuscar = document.getElementById("btnbuscar")
        let btnlistar = document.getElementById("btnlistar")

        //EVENTOS PARA MENSAJES
        //ID
        idmueble.addEventListener("focus",function(){
            mensid.innerHTML = "¡Solo se puede ingresar números!"
        })
        idmueble.addEventListener("blur",function(){
            mensid.innerHTML = ""
        })
        //DIRECCION
        /* direccion.onclick = function () {
            mensdireccion.innerHTML = "¡La dirección es obligatoria!"
        }
        direccion.onblur = function () {
            mensdireccion.innerHTML = ""
        } */
        //PRECIO
        /* precio.onclick = function () {
            mensprecio.innerHTML = "!El precio debe estar entre 100 millones y 500 millones¡"
        }
        precio.onblur = function () {
            mensprecio.innerHTML = ""
        } */

        //VALIDACION DEL FORMULARIO
        function validarFormulario() {

            let promesa = new Promise((resolve, reject) => {
                if ((idmueble.value == "") || direccion.value == 0 || telefono.value == 0 || estado.value == 0){
                    resolve("Todos los datos deben ser ingresados correctamente");
                }
                else {
                    reject("Datos enviados correctamente")
                }
            });

            return promesa;
            }

            btnenviar.onclick = function () {
            validarFormulario()
            .then(function (respuesta) {
                alert(respuesta)
            })
            .catch(function (respuesta2) {
                alert(respuesta2)
            })

            validarprecio()
            .then(function(respuesta3){
                mensprecio.innerHTML = ""+ respuesta3
            })
            .catch(function(respuesta2){
                alert(respuesta2)
            })
        }

        function validarprecio() {

            let promprecio = new Promise((resolve, reject) => {
            if((precio.value < 100000000 || precio.value > 500000000) )
                resolve("El precio es menor a 100.000.000 o mayor a 500.000.000");
            else{
                reject("");
            }

            });
            return promprecio

        }


    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    
</body>
</html>

