<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="estilos.css">
    <title>Primer Momento Moviles</title>
</head>
<body>
    <div class="container">

    <h1 class="mt-5 text-center">INMUEBLES SAS</h1>
    <form id="formulario">

                <div class="row g-3 align-items-center mt-4">
                    <div class="col-auto">
                        <label for="idmueble" class="col-form-label">ID</label>
                    </div>
                    <div class="col-auto">
                        <input type="number" id="idmueble" name="idmueble" class="form-control">
                    </div>
                    <div class="col-auto">
                        <span id="mensid" class="form-text">
                        </span>
                    </div>
                </div>

                <div class="row g-3 align-items-center mt-1">
                    <div class="col-auto">
                        <label for="direccion" class="col-form-label">DIRECCIÓN</label>
                    </div>
                    <div class="col-auto">
                        <input type="text" id="direccion" name="direccion" class="form-control">
                    </div>
                    <div class="col-auto">
                        <span id="mensdireccion" class="form-text">
                        </span>
                    </div>
                </div>

                <div class="row g-3 align-items-center mt-1">
                    <div class="col-auto">
                        <label for="telefono" class="col-form-label">TELEFONO</label>
                    </div>
                    <div class="col-auto">
                        <input type="text" id="telefono" name="telefono" class="form-control">
                    </div>
                </div>

                <div class="row g-3 align-items-center mt-1">
                    <div class="col-auto">
                        <label for="precio" class="col-form-label">PRECIO</label>
                    </div>
                    <div class="col-auto">
                        <input type="number" id="precio" name="precio" class="form-control">
                    </div>
                    <div class="col-auto">
                        <span id="mensprecio" class="form-text">
                        </span>
                    </div>
                </div>

                <div class="row g-3 align-items-center mt-1">
                    <div class="col-auto">
                        <label for="estado" class="col-form-label">ESTADO</label>
                    </div>
                    <div class="col-auto">
                        <input type="text" id="estado" name="estado" class="form-control">
                    </div>
                </div>
                
    </form>

    <div class="mt-4">
        <button class="btn btn-secondary" id="btnenviar" type="button">Enviar</button>
        <button class="btn btn-secondary" id="btnbuscar" type="button">Buscar Inmueble</button>
        <button class="btn btn-secondary" id="btnlistar" type="button">Listar Inmuebles</button>
    </div>

    <div class="container mt-4">
        <span id="idfind" style="color: #000;"></span><br>
        <span id="direccionfind" style="color: #000;"></span><br>
        <span id="telefonofind" style="color: #000;"></span><br>
        <span id="preciofind" style="color: #000;"></span><br>
        <span id="estadofind" style="color: #000;"></span>
    </div>
    
    <script>

        inmuebles = [
            {idmueble: 1, direccion: "calle 1", telefono: 1, precio: 1111, estado: "Disponible"},
            {idmueble: 2, direccion: "calle 2", telefono: 2, precio: 2222, estado: "Disponible"},
            {idmueble: 3, direccion: "calle 3", telefono: 3, precio: 3333, estado: "No Disponible"},
            {idmueble: 4, direccion: "calle 4", telefono: 4, precio: 4444, estado: "No Disponible"},
            {idmueble: 5, direccion: "calle 5", telefono: 5, precio: 5555, estado: "No Disponible"},
            {idmueble: 6, direccion: "calle 6", telefono: 6, precio: 6666, estado: "Disponible"},
            {idmueble: 7, direccion: "calle 7", telefono: 7, precio: 7777, estado: "No Disponible"},
            {idmueble: 8, direccion: "calle 8", telefono: 8, precio: 8888, estado: "Disponible"},
            {idmueble: 9, direccion: "calle 9", telefono: 9, precio: 9999, estado: "Disponible"},
            {idmueble: 10, direccion: "calle 10", telefono: 10, precio: 1000, estado: "Disponible"},


        ]

        let idmueble = document.getElementById("idmueble")
        let direccion = document.getElementById("direccion")
        let telefono = document.getElementById("telefono")
        let precio = document.getElementById("precio")
        let estado = document.getElementById("estado")
        //MENSAJES
        const mensid = document.getElementById("mensid")
        const mensdireccion = document.getElementById("mensdireccion")
        const mensprecio = document.getElementById("mensprecio")
        //BOTONES
        let btnenviar = document.getElementById("btnenviar")
        let btnbuscar = document.getElementById("btnbuscar")
        let btnlistar = document.getElementById("btnlistar")

        //  -------------------------------------  EVENTOS PARA MENSAJES  -----------------------------------------------

        //ID
        idmueble.addEventListener("focus",function(){
            mensid.innerHTML = "¡Solo se puede ingresar números!"
        })
        idmueble.addEventListener("blur",function(){
            mensid.innerHTML = ""
        })
        //DIRECCION
        direccion.onclick = function () {
            mensdireccion.innerHTML = "¡La dirección es obligatoria!"
        }
        direccion.onblur = function () {
            mensdireccion.innerHTML = ""
        }
        //PRECIO
        precio.onclick = function () {
            mensprecio.innerHTML = "!El precio debe estar entre 100 millones y 500 millones¡"
        }
        precio.onblur = function () {
            mensprecio.innerHTML = ""
        }

        // ---------------------------------   VALIDACION DEL FORMULARIO   -------------------------------------------

        function validarFormulario() {

            let promesa = new Promise((resolve, reject) => {
                if ((idmueble.value == "") || direccion.value == 0 || precio.value == 0 || telefono.value == 0 || estado.value == 0){
                    resolve("Todos los datos deben ser ingresados correctamente");
                }
                else {
                    reject("Datos enviados correctamente")
                }
            });

            return promesa;
            }

        // ---------------------------------   BUSCAR POR ID UN INMUEBLE   -------------------------------------------

        function buscar(){

            const o = inmuebles.find(elemento => {
                return elemento.idmueble == idmueble.value
            })

            idmueble.value = o.idmueble
            direccion.value = o.direccion
            telefono.value = o.telefono
            precio.value = o.precio
            estado.value = o.estado

        } 


        // --------------------------------- LISTAR (si está disponible y el precio  -------------------------------------------
        //--------------------------    entre 200 millones  y 300 millones ) UN INMUEBLE    -----------------------------------
      
        

        // ----------------------------------------------   BOTONES   -----------------------------------------------------

        //ENVIAR
        btnenviar.onclick = function () {
            validarFormulario()
            .then(function (respuesta) {
                alert(respuesta)
            })
            .catch(function (respuesta2) {
                alert(respuesta2)
            })
        }

        //BUSCAR
        btnbuscar.onclick = function () {
            buscar()
        }

        //LISTAR

    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    
</body>
</html>

